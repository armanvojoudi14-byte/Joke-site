<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>arman0legendry â€¢ Ú©ØªØ§Ø¨Ø®ÙˆÙ†Ù‡â€ŒÛŒ Ø®Ù†Ø¯Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù†</title>
  <meta name="description" content="Ø¬ÙˆÚ©â€ŒÙ‡Ø§ÛŒ Ø§ÛŒØ±Ø§Ù†ÛŒ Ùˆ Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒØŒ ÛŒØ® Ùˆ Ø¨ÛŒâ€ŒÙ…Ø²Ù‡ ØªØ§ Ø´ÙˆÙ‡Ø±Ø¹Ù…Ù‡â€ŒØ§ÛŒØŒ Ø±Ø§ÛŒÚ¯Ø§Ù† Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ù‡!">
  <style>
    :root{
      --bg:#0f1020;--bg2:#1a1c3a;--card:rgba(255,255,255,0.08);
      --border:rgba(255,255,255,0.16);--text:#e9e9f1;--muted:#b7b7c9;
      --accent:#7c5cff;--accent2:#3dd6ff;--like:#ff6b6b
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;color:var(--text);background:
      radial-gradient(1200px 800px at 80% -100%, rgba(124,92,255,0.2), transparent 70%),
      radial-gradient(800px 500px at -20% 120%, rgba(61,214,255,0.2), transparent 60%),
      linear-gradient(135deg,var(--bg),var(--bg2))}
    body{font-family:"Vazirmatn",Tahoma,system-ui}
    a{color:inherit;text-decoration:none}
    .wrap{min-height:100%;display:grid;grid-template-rows:auto 1fr auto}
    header{position:sticky;top:0;z-index:10;background:rgba(0,0,0,0.25);backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
    .bar{max-width:1100px;margin:auto;padding:16px;display:grid;grid-template-columns:1fr auto auto;gap:12px;align-items:center}
    .title{font-weight:800;letter-spacing:.5px}
    .controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-end}
    .btn{padding:10px 14px;border:1px solid var(--border);border-radius:10px;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#0f1020;font-weight:700;cursor:pointer}
    .btn.secondary{background:transparent;color:var(--text)}
    .grid{max-width:1100px;margin:auto;padding:18px;display:grid;grid-template-columns:280px 1fr;gap:18px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:16px;box-shadow:0 12px 40px rgba(0,0,0,.35)}
    .side{padding:16px}
    .side h3{margin:0 0 10px}
    .filter{display:flex;flex-direction:column;gap:8px}
    .chip{padding:8px 10px;border-radius:999px;border:1px solid var(--border);cursor:pointer}
    .chip.active{background:rgba(124,92,255,.2);border-color:var(--accent)}
    .search{margin-top:12px;display:flex;gap:8px}
    .input{flex:1;padding:10px 12px;border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,.06);color:var(--text)}
    .content{padding:12px}
    .stats{display:flex;gap:10px;flex-wrap:wrap;margin:8px 0 12px;color:var(--muted);font-size:13px}
    .jokes{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:12px}
    .joke{padding:14px;border-radius:14px;border:1px solid var(--border);background:rgba(255,255,255,.06)}
    .joke .meta{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:12px;color:var(--muted)}
    .badge{padding:4px 8px;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,.08);font-size:11px}
    .actions{display:flex;gap:8px;margin-top:10px}
    .like{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,.06);cursor:pointer}
    .like.active{border-color:var(--like);background:rgba(255,0,0,.08)}
    .pagination{display:flex;gap:8px;justify-content:center;margin-top:14px}
    .donate{padding:16px;text-align:center}
    footer{border-top:1px solid var(--border);padding:16px;text-align:center;color:var(--muted)}
    .lang{display:flex;gap:6px}
    .lang .chip{min-width:120px;text-align:center}
    @media (max-width:860px){.grid{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="bar">
        <div class="title">arman0legendry â€¢ Ú©ØªØ§Ø¨Ø®ÙˆÙ†Ù‡â€ŒÛŒ Ø®Ù†Ø¯Ù‡ Ø±Ø§ÛŒÚ¯Ø§Ù†</div>
        <div class="lang">
          <div class="chip active" data-lang="fa">ÙØ§Ø±Ø³ÛŒ</div>
          <div class="chip" data-lang="en">English</div>
        </div>
        <div class="controls">
          <button class="btn" id="randomBtn">Ø¨Ø²Ù† Ø¨Ø®Ù†Ø¯ (Ø±Ù†Ø¯ÙˆÙ…)</button>
          <a class="btn secondary" href="#donate">Ø­Ù…Ø§ÛŒØª Ù…Ø§Ù„ÛŒ</a>
        </div>
      </div>
    </header>

    <main class="grid">
      <aside class="card side">
        <h3>Ø¯Ø³ØªÙ‡â€ŒØ¨Ù†Ø¯ÛŒâ€ŒÙ‡Ø§</h3>
        <div class="filter" id="filters">
          <div class="chip active" data-cat="all">Ù‡Ù…Ù‡</div>
          <div class="chip" data-cat="ice">ğŸ¥¶ ÛŒØ® Ùˆ Ø¨ÛŒâ€ŒÙ…Ø²Ù‡</div>
          <div class="chip" data-cat="uncle">ğŸ‘¨â€ğŸ¦± Ø´ÙˆÙ‡Ø±Ø¹Ù…Ù‡â€ŒØ§ÛŒ</div>
          <div class="chip" data-cat="school">ğŸ§‘â€ğŸ“ Ù…Ø¯Ø±Ø³Ù‡â€ŒØ§ÛŒ</div>
          <div class="chip" data-cat="tech">ğŸ’» Ø¯ÛŒØ¬ÛŒØªØ§Ù„ÛŒ</div>
        </div>

        <div class="search">
          <input id="searchInput" class="input" placeholder="Ø¬Ø³Øªâ€ŒÙˆØ¬Ùˆ Ø¯Ø± Ø¬ÙˆÚ©â€ŒÙ‡Ø§..." />
          <button class="btn secondary" id="clearSearch">Ù¾Ø§Ú©</button>
        </div>

        <div class="donate">
          <p>Ø¬ÙˆÚ©â€ŒÙ‡Ø§ Ø±Ø§ÛŒÚ¯Ø§Ù†Ø› Ø§Ú¯Ø± Ø­Ø§Ù„ Ú©Ø±Ø¯ÛŒ:</p>
          <a class="btn" href="https://reymit.ir/arman0legendry" target="_blank">â¤ï¸ Ø­Ù…Ø§ÛŒØª Ù…Ø§Ù„ÛŒ</a>
        </div>
      </aside>

      <section class="card content">
        <div class="stats" id="stats">Ù†Ù…Ø§ÛŒØ´ 0 Ø¬ÙˆÚ© â€¢ Ø¯Ø³ØªÙ‡: Ù‡Ù…Ù‡ â€¢ Ø²Ø¨Ø§Ù†: ÙØ§Ø±Ø³ÛŒ</div>
        <div class="jokes" id="jokes"></div>
        <div class="pagination" id="pager"></div>
      </section>
    </main>

    <section id="donate" class="donate">
      <h3>Ø­Ù…Ø§ÛŒØª Ù…Ø§Ù„ÛŒ</h3>
      <p>Ø§Ú¯Ø± Ø§ÛŒÙ† Ø¨Ù…Ø¨ Ø®Ù†Ø¯Ù‡ Ø­Ø§Ù„ØªÙˆÙ† Ø±Ùˆ Ø®ÙˆØ¨ Ú©Ø±Ø¯ØŒ Ù…ÛŒâ€ŒØªÙˆÙ†ÛŒØ¯ Ø§Ø² Ù…Ù† Ø­Ù…Ø§ÛŒØª Ú©Ù†ÛŒØ¯:</p>
      <a class="btn" href="https://reymit.ir/arman0legendry" target="_blank">Ø±ÙØªÙ† Ø¨Ù‡ ØµÙØ­Ù‡â€ŒÛŒ Ø­Ù…Ø§ÛŒØª</a>
    </section>

    <footer>
      Â© 2025 arman0legendry â€¢ Ø³Ø§Ø®ØªÙ‡ Ø¨Ø§ Ø¹Ø´Ù‚ Ùˆ ÛŒÙ‡ Ú†Ø§Ø´Ù†ÛŒ Ù…Ø§Ù…Ø§Ø¨Ø²Ø±Ú¯ ÙˆØ§Ù„Øª. Ù‡Ø± Ø¬ÙˆÚ©ÛŒ ÛŒÙ‡ Ù‚Ù†Ø¯ Ø¯Ø§Ø±Ù‡â€”Ù…ÙˆØ§Ø¸Ø¨ Ø´ÛŒØ±ÛŒÙ†ÛŒâ€ŒØ§Ø´ Ø¨Ø§Ø´! ğŸ˜„
    </footer>
  </div>

  <script>
    // ØªÙˆÙ„ÛŒØ¯ 200 Ø¬ÙˆÚ© (160 ÙØ§Ø±Ø³ÛŒ: Ù‡Ø± Ø¯Ø³ØªÙ‡ 40 ØªØ§ØŒ 40 Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ)
    const faIce = Array.from({length:40}, (_,i)=>({cat:'ice', text:`ğŸ¥¶ Ø¨ÛŒâ€ŒÙ…Ø²Ù‡ ${i+1}: ÛŒØ®Ú†Ø§Ù„ Ú¯ÙØª Ø¬ÙˆÚ©â€ŒÙ‡Ø§Øª Ø§ÛŒÙ†Ù‚Ø¯Ø± ÛŒØ®Ù‡ Ú©Ù‡ Ù…Ù† Ú¯Ø±Ù… Ù†Ù…ÛŒâ€ŒØ´Ù…!`}));
    const faUncle = Array.from({length:40}, (_,i)=>({cat:'uncle', text:`ğŸ‘¨â€ğŸ¦± Ø´ÙˆÙ‡Ø±Ø¹Ù…Ù‡â€ŒØ§ÛŒ ${i+1}: Ø´ÙˆÙ‡Ø±Ø¹Ù…Ù‡ Ú¯ÙØª Ù†Øª Ù‚Ø·Ø¹ Ø´Ø¯ØŒ Ø¨Ø§Ù„Ø§Ø®Ø±Ù‡ Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡â€ŒÙ…Ùˆ Ø¯ÛŒØ¯Ù…!`}));
    const faSchool = Array.from({length:40}, (_,i)=>({cat:'school', text:`ğŸ§‘â€ğŸ“ Ù…Ø¯Ø±Ø³Ù‡â€ŒØ§ÛŒ ${i+1}: Ù…Ø¹Ù„Ù… Ú¯ÙØª Ú†Ø±Ø§ Ø¯ÛŒØ± Ø§ÙˆÙ…Ø¯ÛŒØŸ Ú¯ÙØª: Ø§ÛŒÙ†ØªØ±Ù†Øª Ø®ÙˆØ§Ø¨ Ø¨ÙˆØ¯!`}));
    const faTech = Array.from({length:40}, (_,i)=>({cat:'tech', text:`ğŸ’» Ø¯ÛŒØ¬ÛŒØªØ§Ù„ÛŒ ${i+1}: Ø¨Ù‡ Ú©Ø§Ù…Ù¾ÛŒÙˆØªØ± Ú¯ÙØªÙ… Ø§Ø³ØªØ±Ø§Ø­Øª Ù…ÛŒâ€ŒØ®ÙˆØ§Ù…ØŒ Ø¨Ø±Ø§Ù… ØªØ¨Ù„ÛŒØº Ú©ÛŒØªâ€ŒÚ©Øª Ø§ÙˆÙ…Ø¯!`}));

    const enList = [
      "Dad Joke: Why donâ€™t scientists trust atoms? Because they make up everything!",
      "Tech Joke: I told my computer I needed a breakâ€¦ now it keeps sending me KitKat ads.",
      "School Joke: Teacher: Why are you late? Student: My alarm needed more sleep.",
      "Dad Joke: I only know 25 letters of the alphabet. I donâ€™t know Y.",
      "Dad Joke: Parallel lines have so much in common. Itâ€™s a shame theyâ€™ll never meet.",
      "Tech Joke: 404: Punchline not found.",
      "Tech Joke: I would tell you a UDP joke, but you might not get it.",
      "Dad Joke: Iâ€™m reading a book on anti-gravity. Itâ€™s impossible to put down.",
      "Tech Joke: There are 10 types of people: those who understand binary and those who donâ€™t.",
      "Dad Joke: I used to hate facial hairâ€¦ but then it grew on me.",
      "School Joke: Homework is like a rubber bandâ€”always snaps back.",
      "Dad Joke: I asked the gym if they could teach me to do the splits. They said: how flexible are you? I said: I canâ€™t make Tuesdays.",
      "Tech Joke: My password is â€˜incorrectâ€™ so when I forget, the computer says â€˜Your password is incorrect.â€™",
      "Dad Joke: Iâ€™m on a seafood diet. I see food and I eat it.",
      "Tech Joke: Debugging: Removing needles from a haystack.",
      "Dad Joke: I told my wife she was drawing her eyebrows too high. She looked surprised.",
      "School Joke: Studying is like Wiâ€‘Fiâ€”sometimes it connects, usually it doesnâ€™t.",
      "Dad Joke: I donâ€™t trust stairsâ€”theyâ€™re always up to something.",
      "Tech Joke: Cloud is just someone elseâ€™s computer.",
      "Dad Joke: I used to be a baker, I couldnâ€™t make enough dough.",
      "Tech Joke: I changed my Wiâ€‘Fi to â€˜Hack Meâ€™â€”now itâ€™s secure.",
      "Dad Joke: Iâ€™d tell you a joke about construction, but Iâ€™m still working on it.",
      "School Joke: Group project = one person does everything.",
      "Dad Joke: I told a joke about chemistry, but there was no reaction.",
      "Tech Joke: â€˜It works on my machineâ€™â€”famous last words.",
      "Dad Joke: Did you hear about the claustrophobic astronaut? He just needed a little space.",
      "Tech Joke: Cache me outside, how â€˜bout dat?",
      "Dad Joke: The rotation of Earth really makes my day.",
      "Tech Joke: Bootstrap: because I canâ€™t style.",
      "Dad Joke: I got hit in the head with a can of sodaâ€”thankfully it was a soft drink.",
      "School Joke: Final exams: where sleep goes to die.",
      "Dad Joke: Iâ€™m reading a book about glueâ€”I canâ€™t put it down.",
      "Tech Joke: Commit early, commit often, regret forever.",
      "Dad Joke: I gave my computer a coldâ€”it left me on read.",
      "Tech Joke: I told AI a joke; it responded with a stack trace.",
      "Dad Joke: I used to be addicted to soap, but Iâ€™m clean now.",
      "Tech Joke: Dark mode: because my future is bright.",
      "Dad Joke: I ordered a chicken and an egg from Amazon. Iâ€™ll let you know.",
      "Tech Joke: If at first you donâ€™t succeed; call it version 1.0.",
      "Dad Joke: I donâ€™t play soccer because Iâ€™m bad at kickâ€‘starting."
    ];
    const enData = enList.map((text, i)=>({cat:'english', text:`ğŸŒ ${i+1}: ${text}`}));

    const data = {
      fa: [...faIce, ...faUncle, ...faSchool, ...faTech], // 160
      en: enData // 40
    };

    // Ø­Ø§Ù„Øª Ø¨Ø±Ù†Ø§Ù…Ù‡
    let state = {
      lang: 'fa',
      cat: 'all',
      q: '',
      page: 1,
      perPage: 24,
      likes: JSON.parse(localStorage.getItem('jokeLikes')||'{}')
    };

    const el = {
      jokes: document.getElementById('jokes'),
      stats: document.getElementById('stats'),
      pager: document.getElementById('pager'),
      filters: document.getElementById('filters'),
      search: document.getElementById('searchInput'),
      clear: document.getElementById('clearSearch'),
      random: document.getElementById('randomBtn')
    };

    function labelCat(cat, lang){
      const mapFa = {all:'Ù‡Ù…Ù‡', ice:'ÛŒØ® Ùˆ Ø¨ÛŒâ€ŒÙ…Ø²Ù‡', uncle:'Ø´ÙˆÙ‡Ø±Ø¹Ù…Ù‡â€ŒØ§ÛŒ', school:'Ù…Ø¯Ø±Ø³Ù‡â€ŒØ§ÛŒ', tech:'Ø¯ÛŒØ¬ÛŒØªØ§Ù„ÛŒ', english:'Ø§Ù†Ú¯Ù„ÛŒØ³ÛŒ'};
      const mapEn = {all:'All', ice:'Ice/Cold', uncle:'Uncle', school:'School', tech:'Tech', english:'English'};
      return (lang==='fa'?mapFa:mapEn)[cat] || cat;
    }

    function escapeHTML(s){
      return s.replace(/[&<>"']/g, m=>({ '&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;' }[m]));
    }

    function currentPool(){
      const pool = state.lang==='fa' ? data.fa : data.en;
      const filteredByCat = state.cat==='all' ? pool : pool.filter(j=>j.cat===state.cat);
      const filteredByQ = state.q ? filteredByCat.filter(j=> j.text.toLowerCase().includes(state.q.toLowerCase())) : filteredByCat;
      return filteredByQ;
    }

    // Ø±Ù†Ø¯Ø± Ø§ØµÙ„ÛŒ
    function render(){
      const filtered = currentPool();
      const total = filtered.length;
      const pages = Math.max(1, Math.ceil(total / state.perPage));
      state.page = Math.min(state.page, pages);
      const start = (state.page-1)*state.perPage;
      const pageItems = filtered.slice(start, start+state.perPage);

      el.jokes.innerHTML = pageItems.map((j,i)=>{
        const idx = `${state.lang}:${state.cat}:${start+i}:${j.text.slice(0,24)}`;
        const liked = !!state.likes[idx];
        return `
          <article class="joke">
            <div class="meta">
              <span class="badge">${labelCat(j.cat, state.lang)}</span>
              <span>${liked? 'ğŸ‘ Ù„Ø§ÛŒÚ© Ø´Ø¯Ù‡' : ''}</span>
            </div>
            <div>${escapeHTML(j.text)}</div>
            <div class="actions">
              <button class="like ${liked?'active':''}" data-id="${idx}">
                <span>â¤ï¸</span><span>${liked? 'Unlike' : 'Like'}</span>
              </button>
              <button class="like" data-copy="${escapeHTML(j.text)}">
                <span>ğŸ“‹</span><span>Copy</span>
              </button>
              <button class="like" data-share="${escapeHTML(j.text)}">
                <span>ğŸ”—</span><span>Share</span>
              </button>
            </div>
          </article>
        `;
      }).join('');

      el.stats.textContent = `Ù†Ù…Ø§ÛŒØ´ ${pageItems.length} Ø§Ø² ${total} Ø¬ÙˆÚ© â€¢ Ø¯Ø³ØªÙ‡: ${labelCat(state.cat,'fa')} â€¢ Ø²Ø¨Ø§Ù†: ${state.lang==='fa'?'ÙØ§Ø±Ø³ÛŒ':'English'}`;

      // ØµÙØ­Ù‡â€ŒØ¨Ù†Ø¯ÛŒ
      el.pager.innerHTML = `
        <button class="btn secondary" ${state.page<=1?'disabled':''} data-page="${state.page-1}">Ù‚Ø¨Ù„ÛŒ</button>
        <span class="badge">ØµÙØ­Ù‡ ${state.page} Ø§Ø² ${pages}</span>
        <button class="btn secondary" ${state.page>=pages?'disabled':''} data-page="${state.page+1}">Ø¨Ø¹Ø¯ÛŒ</button>
      `;
    }

    // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§
    document.querySelectorAll('.lang .chip').forEach(ch=>{
      ch.addEventListener('click', ()=>{
        document.querySelectorAll('.lang .chip').forEach(n=>n.classList.remove('active'));
        ch.classList.add('active');
        state.lang = ch.dataset.lang;
        document.documentElement.lang = state.lang;
        document.documentElement.dir = state.lang==='fa'?'rtl':'ltr';
        state.page = 1;
        render();
      });
    });

    document.querySelectorAll('#filters .chip').forEach(c=>{
      c.addEventListener('click', ()=>{
        document.querySelectorAll('#filters .chip').forEach(n=>n.classList.remove('active'));
        c.classList.add('active');
        state.cat = c.dataset.cat;
        state.page = 1;
        render();
      });
    });

    el.search.addEventListener('input', ()=>{
      state.q = el.search.value.trim();
      state.page = 1;
      render();
    });
    el.clear.addEventListener('click', ()=>{
      el.search.value = '';
      state.q = '';
      render();
    });

    document.getElementById('pager').addEventListener('click', (e)=>{
      const p = e.target.getAttribute('data-page');
      if(!p) return;
      state.page = Number(p);
      render();
    });

    el.jokes.addEventListener('click', (e)=>{
      const likeBtn = e.target.closest('[data-id]');
      const copyBtn = e.target.closest('[data-copy]');
      const shareBtn = e.target.closest('[data-share]');

      if(likeBtn){
        const likeId = likeBtn.dataset.id;
        state.likes[likeId] = !state.likes[likeId];
        localStorage.setItem('jokeLikes', JSON.stringify(state.likes));
        render();
      } else if(copyBtn){
        const txt = copyBtn.dataset.copy.replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&').replace(/&quot;/g,'"').replace(/&#39;/g,"'");
        navigator.clipboard?.writeText(txt).then(()=>toast('Ú©Ù¾ÛŒ Ø´Ø¯!'));
      } else if(shareBtn){
        const txt = shareBtn.dataset.share.replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&').replace(/&quot;/g,'"').replace(/&#39;/g,"'");
        const url = location.href.split('#')[0];
        if(navigator.share){
          navigator.share({text: txt, url});
        } else {
          navigator.clipboard?.writeText(txt + ' ' + url).then(()=>toast('Ù„ÛŒÙ†Ú© Ø§Ø´ØªØ±Ø§Ú© Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø¯!'));
        }
      }
    });

    el.random.addEventListener('click', ()=>{
      const pool = currentPool();
      const pick = pool[Math.floor(Math.random()*pool.length)];
      toast((pick?.text)||'Ù‡ÛŒÚ† Ø¬ÙˆÚ©ÛŒ Ù¾ÛŒØ¯Ø§ Ù†Ø´Ø¯!');
    });

    function toast(msg){
      const t = document.createElement('div');
      t.textContent = msg;
      t.style.cssText = 'position:fixed;bottom:16px;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.6);color:#fff;padding:10px 14px;border-radius:10px;border:1px solid rgba(255,255,255,.2);z-index:9999';
      document.body.appendChild(t);
      setTimeout(()=>t.remove(), 1800);
    }

    // Ø´Ø±ÙˆØ¹
    render();
  </script>
</body>
</html>